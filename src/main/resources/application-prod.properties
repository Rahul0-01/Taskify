
spring.application.name=taskify

# -------------------------
# Datasource (MySQL RDS via env)
# -------------------------
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hibernate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.defer-datasource-initialization=true

# -------------------------
# JWT
# -------------------------
jwt.secret=${JWT_SECRET}
jwt.access.expiration=900000
jwt.refresh.expiration=604800000

# -------------------------
# Gmail SMTP (use env vars)
# -------------------------
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# -------------------------
# ElevenLabs / AI keys (env)
# -------------------------
elevenlabs.api.key=${ELEVEN_API_KEY}
elevenlabs.voice.id=${ELEVEN_VOICE_ID}

# -------------------------
# Reminder Scheduler (keeps running in prod)
# -------------------------
reminder.cron=0 8 * * * *
reminder.zone=Asia/Kolkata

# -------------------------
# OpenAPI / Swagger
# -------------------------
app.api.title=Taskify API
app.api.description=Taskify backend API (JWT protected)
app.api.version=1.0.0
springdoc.swagger-ui.path=/swagger-ui

# -------------------------
# Disable Redis & RabbitMQ auto-configuration in PROD
# (prevents Spring from trying to connect to redis/rabbit on startup)
# -------------------------
spring.autoconfigure.exclude=\
org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\
org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration

# keep placeholders (won't be auto-configured because we excluded autoconfig)
spring.redis.host=${SPRING_REDIS_HOST:redis}
spring.redis.port=${SPRING_REDIS_PORT:6379}

spring.rabbitmq.host=${SPRING_RABBITMQ_HOST:rabbitmq}
spring.rabbitmq.port=${SPRING_RABBITMQ_PORT:5672}
spring.rabbitmq.username=${SPRING_RABBITMQ_USERNAME:guest}
spring.rabbitmq.password=${SPRING_RABBITMQ_PASSWORD:guest}

# -------------------------
# Management / health
# -------------------------
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# Indicate production environment to app code (CORS filter reads this)
app.env=prod
